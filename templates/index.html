<!doctype html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neural PDF Intelligence</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    * { 
      font-family: 'Space Grotesk', sans-serif;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    .mono { font-family: 'IBM Plex Mono', monospace; }
    
    /* Ultra dark background with subtle movement */
    body {
      background: #000000;
      position: relative;
      overflow-x: hidden;
    }
    
    .cosmic-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(ellipse at 20% 30%, rgba(6, 182, 212, 0.08) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 70%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 50%, rgba(139, 92, 246, 0.05) 0%, transparent 50%),
        #000000;
      z-index: 0;
    }
    
    .content-wrapper {
      position: relative;
      z-index: 1;
    }
    
    /* Animated grid */
    .grid-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(59, 130, 246, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(59, 130, 246, 0.03) 1px, transparent 1px);
      background-size: 50px 50px;
      animation: gridMove 20s linear infinite;
      pointer-events: none;
      z-index: 0;
    }
    
    @keyframes gridMove {
      0% { background-position: 0 0; }
      100% { background-position: 50px 50px; }
    }
    
    /* Floating particles - darker */
    .particle {
      position: fixed;
      width: 2px;
      height: 2px;
      background: rgba(59, 130, 246, 0.3);
      border-radius: 50%;
      animation: float 20s infinite;
      pointer-events: none;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) translateX(0); opacity: 0; }
      10%, 90% { opacity: 0.3; }
      50% { transform: translateY(-100vh) translateX(50px); }
    }
    
    /* Dark glass morphism */
    .glass {
      background: rgba(10, 10, 15, 0.7);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(59, 130, 246, 0.1);
      box-shadow: 
        0 8px 32px 0 rgba(0, 0, 0, 0.6),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }
    
    /* Subtle neon effects */
    .neon-blue {
      color: #60a5fa;
      text-shadow: 
        0 0 20px rgba(59, 130, 246, 0.4),
        0 0 40px rgba(59, 130, 246, 0.2);
    }
    
    .neon-cyan {
      color: #22d3ee;
      text-shadow: 
        0 0 20px rgba(6, 182, 212, 0.4),
        0 0 40px rgba(6, 182, 212, 0.2);
    }
    
    /* Subtle glow border */
    .glow-border {
      box-shadow: 
        0 0 20px rgba(59, 130, 246, 0.15),
        inset 0 0 20px rgba(59, 130, 246, 0.05);
      border: 1px solid rgba(59, 130, 246, 0.3);
    }
    
    /* Animations */
    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes slideInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }
    
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    .animate-slide-up {
      animation: slideInUp 0.6s ease-out forwards;
    }
    
    .animate-slide-down {
      animation: slideInDown 0.6s ease-out forwards;
    }
    
    .animate-scale {
      animation: scaleIn 0.5s ease-out forwards;
    }
    
    /* Staggered animations */
    .delay-100 { animation-delay: 0.1s; opacity: 0; }
    .delay-200 { animation-delay: 0.2s; opacity: 0; }
    .delay-300 { animation-delay: 0.3s; opacity: 0; }
    .delay-400 { animation-delay: 0.4s; opacity: 0; }
    
    /* AI typing dots */
    .ai-typing {
      display: inline-flex;
      gap: 4px;
    }
    
    .ai-typing span {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #3b82f6;
      animation: typing 1.4s infinite ease-in-out;
    }
    
    .ai-typing span:nth-child(1) { animation-delay: 0s; }
    .ai-typing span:nth-child(2) { animation-delay: 0.2s; }
    .ai-typing span:nth-child(3) { animation-delay: 0.4s; }
    
    @keyframes typing {
      0%, 60%, 100% {
        transform: translateY(0);
        opacity: 0.5;
      }
      30% {
        transform: translateY(-10px);
        opacity: 1;
      }
    }
    
    /* File upload zone */
    .upload-zone {
      border: 2px dashed rgba(59, 130, 246, 0.2);
      background: rgba(59, 130, 246, 0.03);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .upload-zone:hover {
      border-color: rgba(59, 130, 246, 0.4);
      background: rgba(59, 130, 246, 0.05);
      transform: translateY(-2px);
    }
    
    .upload-zone.active {
      border-color: rgba(6, 182, 212, 0.5);
      background: rgba(6, 182, 212, 0.08);
      box-shadow: 0 0 30px rgba(6, 182, 212, 0.1);
    }
    
    /* Button styles - darker */
    .btn-primary {
      background: linear-gradient(135deg, #1e40af, #0e7490);
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px rgba(59, 130, 246, 0.2);
    }
    
    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
      );
      transition: left 0.5s;
    }
    
    .btn-primary:hover::before {
      left: 100%;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 30px rgba(59, 130, 246, 0.3);
    }
    
    .btn-primary:active {
      transform: translateY(0);
    }
    
    /* Spinner */
    .spinner {
      width: 18px;
      height: 18px;
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-top-color: #ffffff;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
      display: inline-block;
      margin-right: 8px;
    }
    
    /* Input glow on focus */
    .glow-input:focus {
      outline: none;
      border-color: rgba(59, 130, 246, 0.4);
      box-shadow: 
        0 0 20px rgba(59, 130, 246, 0.15),
        inset 0 1px 3px rgba(59, 130, 246, 0.1);
    }
    
    /* Answer container */
    .answer-box {
      background: rgba(5, 5, 10, 0.8);
      border: 1px solid rgba(59, 130, 246, 0.15);
      position: relative;
    }
    
    .answer-box::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, #3b82f6, transparent);
      opacity: 0.5;
    }
    
    /* Status badge */
    .status-badge {
      background: rgba(6, 182, 212, 0.15);
      border: 1px solid rgba(6, 182, 212, 0.3);
      animation: pulse 2s ease-in-out infinite;
    }
    
    /* Scan line effect */
    @keyframes scan {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100%); }
    }
    
    .scanning::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, #06b6d4, transparent);
      animation: scan 2s linear infinite;
    }
  </style>
</head>

<body class="h-full">

<!-- Cosmic background -->
<div class="cosmic-bg"></div>
<div class="grid-overlay"></div>

<!-- Floating particles -->
<div class="particle" style="left: 10%; animation-delay: 0s; top: 20%;"></div>
<div class="particle" style="left: 25%; animation-delay: 3s; top: 40%;"></div>
<div class="particle" style="left: 40%; animation-delay: 6s; top: 60%;"></div>
<div class="particle" style="left: 55%; animation-delay: 9s; top: 30%;"></div>
<div class="particle" style="left: 70%; animation-delay: 12s; top: 50%;"></div>
<div class="particle" style="left: 85%; animation-delay: 15s; top: 70%;"></div>

<div class="content-wrapper min-h-full flex items-center justify-center px-4 py-12">

  <div class="max-w-5xl w-full">
    
    <!-- HEADER -->
    <header class="text-center mb-12 animate-slide-down">
      <div class="inline-block mb-6 relative">
        <div class="relative glass rounded-2xl p-4 border border-blue-500/20">
          <svg class="w-14 h-14 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
          </svg>
        </div>
      </div>
      
      <h1 class="text-6xl md:text-7xl font-bold mb-4 neon-blue tracking-tight">
        NEURAL PDF
      </h1>
      <p class="text-lg text-gray-400 font-light mb-6 tracking-wide">
        INTELLIGENCE EXTRACTION SYSTEM
      </p>
      
      <div class="inline-flex items-center gap-2 glass rounded-full px-5 py-2.5 text-cyan-400 mono text-xs border border-cyan-500/20">
        <span class="relative flex h-2 w-2">
          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-cyan-400 opacity-75"></span>
          <span class="relative inline-flex rounded-full h-2 w-2 bg-cyan-400"></span>
        </span>
        ONLINE • PDF-ONLY RESPONSES
      </div>
    </header>

    <!-- MAIN CONTAINER -->
    <div class="glass rounded-2xl p-8 md:p-10 space-y-8 border border-blue-500/10">
      
      <!-- STATUS BADGE -->
      <div id="status-badge" class="hidden">
        <div class="flex items-center justify-center">
          <div class="status-badge rounded-full px-5 py-2.5 flex items-center gap-3">
            <svg class="w-4 h-4 text-cyan-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span class="text-cyan-300 font-medium mono text-xs" id="status-text">SYSTEM READY</span>
          </div>
        </div>
      </div>

      <!-- UPLOAD SECTION -->
      <section class="animate-slide-up delay-100">
        <div class="flex items-center gap-3 mb-5">
          <div class="flex items-center justify-center w-9 h-9 rounded-lg bg-gradient-to-br from-blue-600 to-cyan-600 text-white font-bold text-sm border border-blue-400/30">
            01
          </div>
          <h2 class="text-xl font-semibold text-gray-200">Upload Document</h2>
        </div>

        <form id="upload-form">
          <label id="file-label" class="upload-zone block rounded-xl p-10 cursor-pointer relative">
            <input
              type="file"
              id="file-upload"
              accept="application/pdf"
              class="hidden"
            />
            
            <div id="upload-placeholder" class="text-center">
              <svg class="w-16 h-16 mx-auto mb-5 text-blue-400/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
              </svg>
              <p class="text-lg text-gray-300 font-medium mb-2">Drop PDF Here</p>
              <p class="text-gray-500 mono text-xs">or click to browse • max 10MB</p>
            </div>
            
            <div id="file-selected" class="hidden text-center">
              <div class="relative inline-block mb-5">
                <svg class="w-16 h-16 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
              <p class="text-lg text-cyan-300 font-medium mb-2" id="file-name"></p>
              <p class="text-gray-500 mono text-xs">Ready • Click to change</p>
            </div>
          </label>

          <button
            type="submit"
            id="upload-btn"
            class="mt-5 w-full btn-primary text-white px-6 py-4 rounded-xl font-semibold text-base tracking-wide disabled:opacity-40 disabled:cursor-not-allowed border border-blue-400/30"
            disabled
          >
            <span id="upload-btn-text">INITIALIZE SCAN</span>
          </button>

          <div id="upload-status" class="hidden mt-4 rounded-xl p-4"></div>
        </form>
      </section>

      <!-- ASK QUESTION -->
      <section class="animate-slide-up delay-200">
        <div class="flex items-center gap-3 mb-5">
          <div class="flex items-center justify-center w-9 h-9 rounded-lg bg-gradient-to-br from-blue-600 to-cyan-600 text-white font-bold text-sm border border-blue-400/30">
            02
          </div>
          <h2 class="text-xl font-semibold text-gray-200">Query System</h2>
        </div>

        <form id="ask-form">
          <div class="relative">
            <textarea
              id="question-input"
              rows="4"
              placeholder="Enter your query... (e.g., What insights can you extract?)"
              class="w-full glass glow-input rounded-xl p-5 resize-none text-gray-200 placeholder-gray-600 disabled:opacity-40 disabled:cursor-not-allowed border border-blue-500/20 bg-black/20"
              disabled
            ></textarea>
            <div class="absolute bottom-3 right-4 mono text-xs text-gray-600" id="char-count">
              0 chars
            </div>
          </div>

          <button
            type="submit"
            id="ask-btn"
            class="mt-4 w-full btn-primary text-white px-6 py-4 rounded-xl font-semibold text-base tracking-wide disabled:opacity-40 disabled:cursor-not-allowed border border-blue-400/30"
            disabled
          >
            <span id="ask-btn-text">PROCESS QUERY</span>
          </button>
        </form>
      </section>

      <!-- ANSWER -->
      <section class="animate-slide-up delay-300">
        <div class="flex items-center gap-3 mb-5">
          <div class="flex items-center justify-center w-9 h-9 rounded-lg bg-gradient-to-br from-blue-600 to-cyan-600 text-white font-bold text-sm border border-blue-400/30">
            03
          </div>
          <h2 class="text-xl font-semibold text-gray-200">AI Response</h2>
        </div>

        <div id="answer-content" class="answer-box rounded-xl p-6 min-h-[180px] text-gray-300 leading-relaxed text-sm">
          <div class="flex items-start gap-3 text-gray-600">
            <svg class="w-5 h-5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <p class="text-sm">Awaiting document upload and query input. System will analyze PDF content and provide contextual responses.</p>
          </div>
        </div>
      </section>

    </div>

    <!-- FOOTER -->
    <footer class="mt-8 text-center animate-slide-up delay-400">
      <p class="text-gray-600 mono text-xs mb-2">
        Gemini AI • LangChain RAG • Semantic Vector Search
      </p>
      <p class="text-gray-700 text-xs flex items-center justify-center gap-2">
        <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
        </svg>
        Auto-deletion • Zero persistence
      </p>
    </footer>

  </div>
</div>

<script>
/* ---------- SESSION MANAGEMENT ---------- */
let sessionId = null;
let sessionReady = false;

async function cleanupSession() {
  if (sessionId) {
    const url = `/cleanup/${sessionId}`;
    navigator.sendBeacon(url);
  }
}

window.addEventListener('beforeunload', cleanupSession);
window.addEventListener('unload', cleanupSession);

/* ---------- ELEMENTS ---------- */
const uploadForm = document.getElementById("upload-form");
const fileInput = document.getElementById("file-upload");
const fileLabel = document.getElementById("file-label");
const uploadPlaceholder = document.getElementById("upload-placeholder");
const fileSelected = document.getElementById("file-selected");
const fileName = document.getElementById("file-name");
const uploadBtn = document.getElementById("upload-btn");
const uploadBtnText = document.getElementById("upload-btn-text");
const uploadStatus = document.getElementById("upload-status");
const statusBadge = document.getElementById("status-badge");
const statusText = document.getElementById("status-text");

const questionInput = document.getElementById("question-input");
const charCount = document.getElementById("char-count");
const askForm = document.getElementById("ask-form");
const askBtn = document.getElementById("ask-btn");
const askBtnText = document.getElementById("ask-btn-text");
const answerContent = document.getElementById("answer-content");

/* ---------- FILE SELECTION ---------- */
fileInput.addEventListener("change", (e) => {
  const file = e.target.files[0];
  
  if (file) {
    uploadPlaceholder.classList.add("hidden");
    fileSelected.classList.remove("hidden");
    fileLabel.classList.add("active");
    fileName.textContent = file.name;
    uploadBtn.disabled = false;
  } else {
    uploadPlaceholder.classList.remove("hidden");
    fileSelected.classList.add("hidden");
    fileLabel.classList.remove("active");
    uploadBtn.disabled = true;
  }
});

/* ---------- CHARACTER COUNT ---------- */
questionInput.addEventListener("input", (e) => {
  const length = e.target.value.length;
  charCount.textContent = `${length} chars`;
});

/* ---------- PDF UPLOAD ---------- */
uploadForm.addEventListener("submit", async (e) => {
  e.preventDefault();

  const file = fileInput.files[0];
  if (!file) return;

  uploadBtn.disabled = true;
  uploadBtnText.innerHTML = '<div class="spinner"></div>SCANNING...';
  uploadStatus.classList.remove("hidden");
  uploadStatus.className = "mt-4 glass rounded-xl p-4 border border-blue-500/20 text-blue-300";
  uploadStatus.innerHTML = `
    <div class="flex items-center gap-3">
      <div class="ai-typing">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <span class="mono text-xs">Processing vectors...</span>
    </div>
  `;

  const formData = new FormData();
  formData.append("file", file);

  try {
    const res = await fetch("/upload", {
      method: "POST",
      body: formData
    });

    const data = await res.json();

    if (res.ok && data.success) {
      sessionId = data.session_id;
      sessionReady = true;
      
      uploadStatus.className = "mt-4 glass rounded-xl p-4 border border-cyan-500/30 text-cyan-300 glow-border";
      uploadStatus.innerHTML = `
        <div class="flex items-center gap-3">
          <svg class="w-4 h-4 text-cyan-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
          </svg>
          <span class="mono text-xs font-medium">SCAN COMPLETE • System ready</span>
        </div>
      `;
      
      questionInput.disabled = false;
      askBtn.disabled = false;
      
      statusBadge.classList.remove("hidden");
      statusText.textContent = `LOADED: ${data.filename}`;
      
      questionInput.focus();
      
    } else {
      throw new Error(data.detail || "Upload failed");
    }
  } catch (error) {
    uploadStatus.className = "mt-4 glass rounded-xl p-4 border border-red-500/30 text-red-300";
    uploadStatus.innerHTML = `
      <div class="flex items-center gap-3">
        <svg class="w-4 h-4 text-red-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
        </svg>
        <span class="mono text-xs">${error.message}</span>
      </div>
    `;
  } finally {
    uploadBtn.disabled = false;
    uploadBtnText.textContent = "INITIALIZE SCAN";
  }
});

/* ---------- ASK QUESTION ---------- */
askForm.addEventListener("submit", async (e) => {
  e.preventDefault();

  const question = questionInput.value.trim();
  if (!question) return;
  
  if (!sessionReady || !sessionId) {
    alert("Session not ready. Please refresh.");
    return;
  }

  askBtn.disabled = true;
  askBtnText.innerHTML = '<div class="spinner"></div>PROCESSING...';

  answerContent.innerHTML = `
    <div class="flex items-center gap-3 text-cyan-400">
      <div class="ai-typing">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <span class="mono text-xs">Analyzing document...</span>
    </div>
  `;
  answerContent.classList.add("scanning");

  try {
    const response = await fetch("/ask", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ 
        question: question,
        session_id: sessionId
      })
    });

    if (!response.ok) {
      const error = await response.json();
      throw new Error(error.detail || "Failed to get answer");
    }

    const reader = response.body.getReader();
    const decoder = new TextDecoder("utf-8");

    answerContent.textContent = "";
    answerContent.classList.remove("scanning");
    answerContent.classList.add("animate-scale");

    while (true) {
      const { value, done } = await reader.read();
      if (done) break;
      answerContent.textContent += decoder.decode(value);
    }

  } catch (error) {
    answerContent.classList.remove("scanning");
    answerContent.innerHTML = `
      <div class="flex items-start gap-3 text-red-400">
        <svg class="w-5 h-5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <div>
          <p class="font-semibold text-sm mb-1">ERROR</p>
          <p class="text-xs">${error.message}</p>
        </div>
      </div>
    `;
  } finally {
    askBtn.disabled = false;
    askBtnText.textContent = "PROCESS QUERY";
  }
});
</script>

</body>
</html>